<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Lab 6 - ES3011 Experimental Lab</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="../../theme_override.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Lab 6";
    var mkdocs_page_input_path = "lab-docs/lab6.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> ES3011 Experimental Lab</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../lab-overview/">Lab Overview</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Lab Instructions</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../lab1/">Lab 1</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../lab2/">Lab 2</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../lab3/">Lab 3</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../lab4/">Lab 4</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../lab5/">Lab 5</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Lab 6</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#learning_outcomes">Learning Outcomes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#1_stability_analysis_and_frequency_response">1. Stability Analysis and Frequency Response</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#instructions">Instructions:</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#2_complete_control_design_for_the_balbot_self-balancing_robot">2. Complete Control Design for the BalBot (self-balancing robot)</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#instructions_1">Instructions:</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#what_to_submit">What to Submit:</a>
    </li>
    </ul>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">ES3011 Experimental Lab</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Lab Instructions &raquo;</li>
        
      
    
    <li>Lab 6</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="lab_6_stability_analysis_frequency_response_complete_controller_design">LAB 6: Stability Analysis, Frequency Response &amp; Complete Controller Design<a class="headerlink" href="#lab_6_stability_analysis_frequency_response_complete_controller_design" title="Permanent link">&para;</a></h1>
<!-- ### Description:
* Learn how to analyze stability and frequency responses with Bode plots for the self-balancing robot
* Learn how to reduce steady-state error 
* Learn how to create a lag compensator

### What to Submit:
* Report showing a summary of exercises completed by hand as well as with MATLAB.
 -->

<h4 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h4>
<p>Welcome to the sixth session of the ES3011 experimental labs. </p>
<p>In this lab, you will learn how to analyze stability and frequency responses with bode plots. Also, you will learn how to reduce steady-state error and learn how to create a lag compensator.</p>
<p>We will cover three sections in this lab:</p>
<ol>
<li>Stability analysis and frequency response.</li>
<li>Complete controller design for the BalBot (self-balancing robot).</li>
</ol>
<h5 id="learning_outcomes">Learning Outcomes<a class="headerlink" href="#learning_outcomes" title="Permanent link">&para;</a></h5>
<p>Our goal at the end of this labs is that you should be able to:</p>
<ul>
<li>Understand how to analyze stability and frequency response.</li>
<li>Understand how to design complete controllers for real robotic systems (the BalBot) using state feedback and PID controller.</li>
</ul>
<hr />
<p><br></p>
<h4 id="1_stability_analysis_and_frequency_response">1. Stability Analysis and Frequency Response<a class="headerlink" href="#1_stability_analysis_and_frequency_response" title="Permanent link">&para;</a></h4>
<p>In this section, you will analyze stability and frequency responses. Bode diagram will be plotted.</p>
<h5 id="instructions">Instructions:<a class="headerlink" href="#instructions" title="Permanent link">&para;</a></h5>
<p>In this lab <a href="../documents/Lab6.pdf">instruction sheet</a>,</p>
<ul>
<li>Complete the MATLAB section (problems I, cruise-control car).</li>
</ul>
<hr />
<p><br></p>
<h4 id="2_complete_control_design_for_the_balbot_self-balancing_robot">2. Complete Control Design for the BalBot (self-balancing robot)<a class="headerlink" href="#2_complete_control_design_for_the_balbot_self-balancing_robot" title="Permanent link">&para;</a></h4>
<p><img alt="robot" src="../media/robot.png" /></p>
<p>In this section, we will design a complete controller for the robot.</p>
<h5 id="instructions_1">Instructions:<a class="headerlink" href="#instructions_1" title="Permanent link">&para;</a></h5>
<ol>
<li>Build and run the simulation firstly. Please follow this lab <a href="../documents/ES3011_LAB6.pdf">instruction sheet</a>. Answer all the questions in the report.</li>
</ol>
<p>Hint: You can learn about the main idea of how to simplify the system, this is for state feedback controller: <a href="../documents/Hint_Lab6.pdf">instruction sheet</a>.</p>
<ol>
<li>
<p><strong>Implementing on the Balbot</strong></p>
<p>Once we have a good feedback controller in simulation, we can then implement it on the physical balbot.</p>
<ul>
<li>
<p>Update the Balbot software on your local PC by running the <code>git pull</code> command in the directory where you cloned the WPI-ES3011 repository.</p>
</li>
<li>
<p>Insert your <strong>PID gain</strong> values (<strong>model parameters</strong> and <strong>state feedback gain</strong> values have been inserted in Lab 5) in the controller.cpp file. You will see the points marked in the file.</p>
</li>
<li>
<p>Load the code to the robot and observe its behavior. </p>
<ul>
<li>Hint: The behavior of the balbot in balancing would be based on the poles you defined above and the resulting gains. If you find unsatisfactory behavior, modify your pole values and update the gains.</li>
</ul>
</li>
<li>
<p>Take a very short video (convert to a short GIF) of your best performing controller and <strong>report</strong> what control parameters are. See below for reference.</p>
</li>
</ul>
<p>Hint: The gif should be like that you push (harshly) the robot at the left/right edge, try to make the robot rotate around z-axis. Then, the robot can recover from the sudden impact.</p>
</li>
</ol>
<hr />
<p><br></p>
<h4 id="what_to_submit">What to Submit:<a class="headerlink" href="#what_to_submit" title="Permanent link">&para;</a></h4>
<p>Prepare a report which contains the following:</p>
<ul>
<li><strong>Introduction:</strong> a few sentences to introduce the topic of the lab</li>
<li><strong>Section 1:</strong> Stability and Frequency Responses<ul>
<li>Include plots and comments as the questions request.</li>
</ul>
</li>
<li><strong>Section 2:</strong> Complete Control Design for the BalBot (self-balancing robot)<ul>
<li>Make sure you include all the plots, equations and observation discussions requested above.</li>
<li>Upload the short GIF of your robot balancing after you push it (as you see in the figure above) to Canvas. Follow <a href="https://ezgif.com/video-to-gif">link</a> for a good GIF creator.</li>
</ul>
</li>
<li><strong>Conclusion:</strong> a few sentences concluding the report explaining the goals, what you learned, and any other conclusions.</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../lab5/" class="btn btn-neutral" title="Lab 5"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../lab5/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
